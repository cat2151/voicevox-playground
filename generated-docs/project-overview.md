Last updated: 2026-02-16

# Project Overview

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- VOICEVOXãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã¨é€£æºã—ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’éŸ³å£°ã«å¤‰æ›ã—ã¦å†ç”Ÿã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
- æ§˜ã€…ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®éŸ³å£°ã‚’é¸æŠã—ã€ä»»æ„ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’èª­ã¿ä¸Šã’ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
- ã•ã‚‰ã«ã€ç”Ÿæˆã•ã‚ŒãŸéŸ³å£°ã®ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’è©³ç´°ã«ç·¨é›†ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: **TypeScript** (å‹å®‰å…¨ãªJavaScriptã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ), **Vite** (é«˜é€Ÿãªé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ãƒãƒ³ãƒ‰ãƒ©ãƒ¼)
- éŸ³æ¥½ãƒ»ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª: **Tone.js v15** (Web Audio APIã‚’ãƒ©ãƒƒãƒ—ã—ãŸé«˜æ©Ÿèƒ½ãªéŸ³æ¥½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯), **VOICEVOX API** (éŸ³å£°åˆæˆã‚¨ãƒ³ã‚¸ãƒ³ã¨ã®é€£æºã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)
- é–‹ç™ºãƒ„ãƒ¼ãƒ«: **TypeScript** (é–‹ç™ºè¨€èª), **Vite** (é–‹ç™ºã‚µãƒ¼ãƒãƒ¼), **vitest** (ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯), **jsdom** (Node.jsã§DOMç’°å¢ƒã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ), **@types/jsdom** (jsdomã®TypeScriptå‹å®šç¾©), **@biomejs/biome** (ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ãƒ»ãƒªãƒ³ã‚¿ãƒ¼)
- ãƒ†ã‚¹ãƒˆ: **vitest** (é«˜é€Ÿãªãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼), **jsdom** (ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³), **@types/jsdom** (jsdomã®å‹å®šç¾©)
- ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«: **Vite** (é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã€ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«)
- è¨€èªæ©Ÿèƒ½: **TypeScript** (é™çš„å‹ä»˜ã‘ã«ã‚ˆã‚‹å …ç‰¢ãªé–‹ç™º)
- è‡ªå‹•åŒ–ãƒ»CI/CD: **GitHub Actions** (READMEç¿»è¨³ã®è‡ªå‹•åŒ–ã«ä½¿ç”¨)
- é–‹ç™ºæ¨™æº–: **@biomejs/biome** (ã‚³ãƒ¼ãƒ‰ã®æ•´å½¢ã€Linting)

## ãƒ•ã‚¡ã‚¤ãƒ«éšå±¤ãƒ„ãƒªãƒ¼
```
ğŸ“„ .gitignore
ğŸ“– AGENTS.md
ğŸ“„ LICENSE
ğŸ“– README.ja.md
ğŸ“– README.md
ğŸ“Š biome.json
ğŸ“ generated-docs/
ğŸŒ index.html
ğŸ“ issue-notes/
  ğŸ“– 100.md
  ğŸ“– 107.md
  ğŸ“– 108.md
  ğŸ“– 22.md
  ğŸ“– 23.md
  ğŸ“– 24.md
  ğŸ“– 25.md
  ğŸ“– 26.md
  ğŸ“– 27.md
  ğŸ“– 30.md
  ğŸ“– 45.md
  ğŸ“– 56.md
  ğŸ“– 62.md
  ğŸ“– 64.md
  ğŸ“– 65.md
  ğŸ“– 66.md
  ğŸ“– 67.md
  ğŸ“– 68.md
  ğŸ“– 72.md
  ğŸ“– 74.md
  ğŸ“– 79.md
  ğŸ“– 80.md
  ğŸ“– 89.md
  ğŸ“– 92.md
  ğŸ“– 97.md
  ğŸ“– 99.md
ğŸ“Š package-lock.json
ğŸ“Š package.json
ğŸ“ src/
  ğŸ“˜ audio.ts
  ğŸ“˜ config.ts
  ğŸ“˜ intonation.test.ts
  ğŸ“˜ intonation.ts
  ğŸ“˜ intonationDisplay.ts
  ğŸ“˜ intonationPlayback.ts
  ğŸ“˜ intonationState.ts
  ğŸ“˜ intonationUtils.ts
  ğŸ“˜ main.ts
  ğŸ“˜ playback.test.ts
  ğŸ“˜ playback.ts
  ğŸ“˜ state.ts
  ğŸ“˜ status.ts
  ğŸ“˜ styleManager.test.ts
  ğŸ“˜ styleManager.ts
  ğŸ“ styles/
    ğŸ¨ base.css
    ğŸ¨ intonation.css
  ğŸ¨ styles.css
  ğŸ“˜ textLists.test.ts
  ğŸ“˜ textLists.ts
  ğŸ“˜ uiControls.ts
  ğŸ“ visualization/
    ğŸ“˜ canvas.ts
    ğŸ“˜ fft.ts
    ğŸ“˜ fftMaxFreq.ts
    ğŸ“˜ fftOverlay.ts
    ğŸ“˜ spectrogram.ts
    ğŸ“˜ timeAxis.ts
    ğŸ“˜ waveform.ts
  ğŸ“˜ visualization.test.ts
  ğŸ“˜ visualization.ts
  ğŸ“˜ vite-env.d.ts
ğŸ“Š tsconfig.json
ğŸ“˜ vite.config.ts
```

## ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°èª¬æ˜
- **`.gitignore`**: Gitã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‹ã‚‰é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚
- **`AGENTS.md`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„é–¢ä¿‚è€…ã«ã¤ã„ã¦ã®æƒ…å ±ãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
- **`LICENSE`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚
- **`README.ja.md`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ—¥æœ¬èªç‰ˆèª¬æ˜æ›¸ã§ã™ã€‚æ¦‚è¦ã€æ©Ÿèƒ½ã€ä½¿ã„æ–¹ãªã©ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚
- **`README.md`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è‹±èªç‰ˆèª¬æ˜æ›¸ã§ã™ã€‚æ—¥æœ¬èªç‰ˆã‹ã‚‰è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- **`biome.json`**: Biome.jsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„ãƒªãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`index.html`**: Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚UIã®åŸºæœ¬æ§‹é€ ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`issue-notes/`**: é–‹ç™ºä¸­ã®ã‚¤ã‚·ãƒ¥ãƒ¼ã«é–¢ã™ã‚‹ãƒ¡ãƒ¢ã‚„è©³ç´°æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚ï¼ˆæ¥è¨ªè€…å‘ã‘ã®ãŸã‚å€‹åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«èª¬æ˜ã¯çœç•¥ã—ã¾ã™ã€‚ï¼‰
- **`package-lock.json`**: `package.json`ã«è¨˜è¿°ã•ã‚ŒãŸä¾å­˜é–¢ä¿‚ã®æ­£ç¢ºãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ä¾å­˜ãƒ„ãƒªãƒ¼ã‚’è¨˜éŒ²ã—ã€ãƒ“ãƒ«ãƒ‰ã®ä¸€è²«æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚
- **`package.json`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåå‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ä¾å­˜é–¢ä¿‚ãªã©ï¼‰ã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- **`src/audio.ts`**: VOICEVOX APIã‚’ä»‹ã—ã¦éŸ³å£°ã‚¯ã‚¨ãƒªã®å–å¾—ã€éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®åˆæˆã€WAVå½¢å¼ã¸ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãªã©ã€éŸ³å£°å‡¦ç†ã«é–¢ã™ã‚‹ä¸»è¦ãªæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/config.ts`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ä½¿ç”¨ã•ã‚Œã‚‹è¨­å®šå€¤ï¼ˆä¾‹ï¼šVOICEVOXã‚µãƒ¼ãƒãƒ¼ã®URLãªã©ï¼‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`src/intonation.test.ts`**: `src/intonation.ts`ã®æ©Ÿèƒ½ã«é–¢ã™ã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚
- **`src/intonation.ts`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†UIã®åˆæœŸåŒ–ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ”ãƒƒãƒã®é©ç”¨ã€ãŠæ°—ã«å…¥ã‚Šç®¡ç†ãªã©ã€ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®ä¸»è¦ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’ç®¡ç†ã—ã¾ã™ã€‚
- **`src/intonationDisplay.ts`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®è¦–è¦šè¡¨ç¤ºï¼ˆãƒãƒ£ãƒ¼ãƒˆã®æç”»ã€ãƒ”ãƒƒãƒãƒ¬ãƒ³ã‚¸ã®è¨ˆç®—ã€ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ãªã©ï¼‰ã«é–¢ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ‹…å½“ã—ã¾ã™ã€‚
- **`src/intonationPlayback.ts`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†å¾Œã®éŸ³å£°å†ç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸéŸ³å£°ã®å†ç”Ÿã€VOICEVOXã‹ã‚‰ã®éŸ³å£°å–å¾—ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã„ã¾ã™ã€‚
- **`src/intonationState.ts`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ã®çŠ¶æ…‹ç®¡ç†ã€ç‰¹ã«ã‚¿ã‚¤ãƒŸãƒ³ã‚°æƒ…å ±ã®æ›´æ–°ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/intonationUtils.ts`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼ˆä¾‹ï¼šAudioQueryã®æ§‹é€ æ¤œè¨¼ã€ã‚¯ãƒ­ãƒ¼ãƒ³ãªã©ï¼‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`src/main.ts`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã§ã€åˆæœŸåŒ–å‡¦ç†ã€ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠã®é©ç”¨ã€ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã®ãƒˆãƒªã‚¬ãƒ¼ãªã©ã€UIã¨ãƒ­ã‚¸ãƒƒã‚¯ã®é€£æºã‚’èª¿æ•´ã—ã¾ã™ã€‚
- **`src/playback.test.ts`**: `src/playback.ts`ã®éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ã«é–¢ã™ã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚
- **`src/playback.ts`**: éŸ³å£°ã®å†ç”Ÿã€ä¸€æ™‚åœæ­¢ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€è‡ªå‹•å†ç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã€å†ç”Ÿãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ç®¡ç†ãªã©ã€å…¨ä½“ã®å†ç”Ÿåˆ¶å¾¡ã‚’æ‹…ã„ã¾ã™ã€‚
- **`src/state.ts`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®å®šç¾©ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/status.ts`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º/éè¡¨ç¤ºã€è‰²ã®ç®¡ç†ãªã©ï¼‰ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚
- **`src/styleManager.test.ts`**: `src/styleManager.ts`ã®ã‚¹ã‚¿ã‚¤ãƒ«ç®¡ç†æ©Ÿèƒ½ã«é–¢ã™ã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚
- **`src/styleManager.ts`**: VOICEVOXã®éŸ³å£°ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆè©±è€…ã€ã‚¹ã‚¿ã‚¤ãƒ«IDï¼‰ã®å–å¾—ã€é¸æŠã€è¡¨ç¤ºã€åŒºåˆ‡ã‚Šæ–‡å­—è¨­å®šã®è§£æãªã©ã‚’ç®¡ç†ã—ã¾ã™ã€‚
- **`src/styles/base.css`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®åŸºæœ¬çš„ãªCSSã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`src/styles/intonation.css`**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†UIã«ç‰¹åŒ–ã—ãŸCSSã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚
- **`src/styles.css`**: ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ`base.css`ã¨`intonation.css`ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰ã€‚
- **`src/textLists.test.ts`**: `src/textLists.ts`ã®ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆç®¡ç†æ©Ÿèƒ½ã«é–¢ã™ã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚
- **`src/textLists.ts`**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸãƒ†ã‚­ã‚¹ãƒˆã®å±¥æ­´ã‚„ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‚’ç®¡ç†ã—ã€æ°¸ç¶šåŒ–ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/uiControls.ts`**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°ãªã©ã€ç‰¹å®šã®UIè¦ç´ ã®åˆ¶å¾¡ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/canvas.ts`**: HTML Canvasè¦ç´ ã®æº–å‚™ã¨åŸºæœ¬çš„ãªæç”»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/fft.ts`**: é«˜é€Ÿãƒ•ãƒ¼ãƒªã‚¨å¤‰æ› (FFT) ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã¨é–¢é€£ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/fftMaxFreq.ts`**: FFTã®çµæœã‹ã‚‰æœ€å¤§å‘¨æ³¢æ•°ã‚’æ¤œå‡ºã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/fftOverlay.ts`**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ FFTã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/spectrogram.ts`**: éŸ³å£°ã®ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ è¡¨ç¤ºï¼ˆè‰²ãƒãƒƒãƒ”ãƒ³ã‚°ã€å‘¨æ³¢æ•°æ¨å®šã€æç”»ãªã©ï¼‰ã«é–¢ã™ã‚‹è¤‡é›‘ãªå‡¦ç†ã‚’æ‰±ã„ã¾ã™ã€‚
- **`src/visualization/timeAxis.ts`**: éŸ³å£°æ³¢å½¢ã®æ™‚é–“è»¸ã®ãƒ©ãƒ™ãƒ«è¡¨ç¤ºã‚„ãƒ†ã‚£ãƒƒã‚¯ã®æç”»ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization/waveform.ts`**: éŸ³å£°æ³¢å½¢ï¼ˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ¸ˆã¿ãŠã‚ˆã³ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰ã®æç”»ã€çµ±è¨ˆè¨ˆç®—ã€ç›¸é–¢åˆ†æãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
- **`src/visualization.test.ts`**: `src/visualization.ts`ã®è¦–è¦šåŒ–æ©Ÿèƒ½ã«é–¢ã™ã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚
- **`src/visualization.ts`**: éŸ³å£°ã®è¦–è¦šåŒ–å…¨ä½“ã‚’èª¿æ•´ã—ã€ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã€å†ç”Ÿä¸­ã®é€²è¡ŒçŠ¶æ³è¡¨ç¤ºã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãªã©ã‚’ç®¡ç†ã—ã¾ã™ã€‚
- **`src/vite-env.d.ts`**: Viteç’°å¢ƒã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- **`tsconfig.json`**: TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- **`vite.config.ts`**: Viteã®ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

## é–¢æ•°è©³ç´°èª¬æ˜
- **`getAudioQuery()` (src/audio.ts)**: VOICEVOXã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰éŸ³å£°åˆæˆã®ãŸã‚ã®ã‚¯ã‚¨ãƒªæƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`synthesize()` (src/audio.ts)**: éŸ³å£°ã‚¯ã‚¨ãƒªã¨ã‚¹ã‚¿ã‚¤ãƒ«IDã«åŸºã¥ã„ã¦ã€VOICEVOXã‚µãƒ¼ãƒãƒ¼ã§éŸ³å£°ã‚’åˆæˆã—ã¾ã™ã€‚
- **`combineAudioBuffers()` (src/audio.ts)**: è¤‡æ•°ã®AudioBufferã‚’çµåˆã—ã¦ä¸€ã¤ã®é€£ç¶šã—ãŸéŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ã€‚
- **`encodeAudioBufferToWav()` (src/audio.ts)**: AudioBufferã®å†…å®¹ã‚’WAVå½¢å¼ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
- **`writeString()` (src/audio.ts)**: ï¼ˆãŠãã‚‰ãå†…éƒ¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ï¼‰æ–‡å­—åˆ—ã‚’ãƒãƒƒãƒ•ã‚¡ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚
- **`clamp()` (src/audio.ts)**: æ•°å€¤ã‚’æŒ‡å®šã•ã‚ŒãŸæœ€å°å€¤ã¨æœ€å¤§å€¤ã®ç¯„å›²ã«åˆ¶é™ã—ã¾ã™ã€‚
- **`dedupeIntonationFavorites()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‹ã‚‰é‡è¤‡ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤ã—ã¾ã™ã€‚
- **`loadIntonationFavorites()` (src/intonation.ts)**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
- **`persistIntonationFavorites()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ã¾ã™ã€‚
- **`disableLoopOnIntonationEdit()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ä¸­ã«ãƒ«ãƒ¼ãƒ—å†ç”Ÿã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™ã€‚
- **`resetIntonationState()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚’åˆæœŸå€¤ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
- **`setStyleChangeHandler()` (src/intonation.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´æ™‚ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚
- **`initializeIntonationElements()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ã«é–¢é€£ã™ã‚‹DOMè¦ç´ ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
- **`isIntonationDirty()` (src/intonation.ts)**: ç¾åœ¨ã®ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ç•°ãªã‚‹ã‹ï¼ˆå¤‰æ›´ãŒã‚ã‚‹ã‹ï¼‰ã‚’åˆ¤å®šã—ã¾ã™ã€‚
- **`setIntonationKeyboardEnabled()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã‚’æœ‰åŠ¹/ç„¡åŠ¹ã«ã—ã¾ã™ã€‚
- **`getIntonationKeyboardEnabled()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`applyPitchToQuery()` (src/intonation.ts)**: ç·¨é›†ã•ã‚ŒãŸãƒ”ãƒƒãƒæƒ…å ±ã‚’éŸ³å£°ã‚¯ã‚¨ãƒªã«é©ç”¨ã—ã¾ã™ã€‚
- **`applyPitchEdit()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆä¸Šã§è¡Œã‚ã‚ŒãŸãƒ”ãƒƒãƒç·¨é›†ã‚’é©ç”¨ã—ã€çŠ¶æ…‹ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`handleIntonationPointerDown()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã§ã®ãƒã‚¤ãƒ³ã‚¿æŠ¼ä¸‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`handleIntonationPointerMove()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã§ã®ãƒã‚¤ãƒ³ã‚¿ç§»å‹•ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`handleIntonationPointerUp()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã§ã®ãƒã‚¤ãƒ³ã‚¿é›¢ä¸Šã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`handleIntonationKeyDown()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã§ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æŠ¼ä¸‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`renderIntonationFavoritesList()` (src/intonation.ts)**: ãŠæ°—ã«å…¥ã‚Šã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ãƒˆã‚’UIã«æç”»ã—ã¾ã™ã€‚
- **`removeIntonationFavorite()` (src/intonation.ts)**: ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‹ã‚‰æŒ‡å®šã•ã‚ŒãŸã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™ã€‚
- **`applyIntonationFavorite()` (src/intonation.ts)**: ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã‹ã‚‰ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã€ç¾åœ¨ã®çŠ¶æ…‹ã«é©ç”¨ã—ã¾ã™ã€‚
- **`saveCurrentIntonationFavorite()` (src/intonation.ts)**: ç¾åœ¨ã®ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚’ãŠæ°—ã«å…¥ã‚Šã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚
- **`refreshIntonationChart()` (src/intonation.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã®è¡¨ç¤ºã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`getPitchRange()` (src/intonationDisplay.ts)**: ãƒ”ãƒƒãƒã®è¡¨ç¤ºç¯„å›²ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`calculateBasePadding()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºã®åŸºæœ¬ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`getBaseDisplayRange()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºæº–è¡¨ç¤ºç¯„å›²ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`calculateDisplayRange()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®è¡¨ç¤ºç¯„å›²ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`clampRangeExtra()` (src/intonationDisplay.ts)**: è¡¨ç¤ºç¯„å›²ã®è¿½åŠ å€¤ã‚’ã‚¯ãƒ©ãƒ³ãƒ—ã—ã¾ã™ã€‚
- **`applyRangeExtra()` (src/intonationDisplay.ts)**: è¡¨ç¤ºç¯„å›²ã«èª¿æ•´ã‚’é©ç”¨ã—ã¾ã™ã€‚
- **`refreshDisplayRange()` (src/intonationDisplay.ts)**: è¡¨ç¤ºç¯„å›²ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`clampPitchToDisplayRange()` (src/intonationDisplay.ts)**: ãƒ”ãƒƒãƒå€¤ã‚’è¡¨ç¤ºç¯„å›²ã«ã‚¯ãƒ©ãƒ³ãƒ—ã—ã¾ã™ã€‚
- **`calculateStepSize()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚µã‚¤ã‚ºã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`calculateLetterKeyAdjustment()` (src/intonationDisplay.ts)**: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã«ã‚ˆã‚‹ãƒ”ãƒƒãƒèª¿æ•´é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`handleIntonationWheel()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã§ã®ãƒ›ã‚¤ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`ensureWheelHandler()` (src/intonationDisplay.ts)**: ãƒ›ã‚¤ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- **`updateInitialRangeFromPoints()` (src/intonationDisplay.ts)**: ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰åˆæœŸè¡¨ç¤ºç¯„å›²ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`initializeIntonationCanvas()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºç”¨ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
- **`buildIntonationPointsFromQuery()` (src/intonationDisplay.ts)**: éŸ³å£°ã‚¯ã‚¨ãƒªã‹ã‚‰ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºç”¨ã®ãƒã‚¤ãƒ³ãƒˆã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
- **`renderIntonationLabels()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆã®ãƒ©ãƒ™ãƒ«ã‚’æç”»ã—ã¾ã™ã€‚
- **`drawIntonationChart()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆå…¨ä½“ã‚’æç”»ã—ã¾ã™ã€‚
- **`adjustIntonationScale()` (src/intonationDisplay.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚’èª¿æ•´ã—ã¾ã™ã€‚
- **`pitchFromY()` (src/intonationDisplay.ts)**: Yåº§æ¨™ã‹ã‚‰ãƒ”ãƒƒãƒå€¤ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`findNearestIntonationPoint()` (src/intonationDisplay.ts)**: æŒ‡å®šåº§æ¨™ã«æœ€ã‚‚è¿‘ã„ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ãƒ³ãƒˆã‚’è¦‹ã¤ã‘ã¾ã™ã€‚
- **`scheduleIntonationPlayback()` (src/intonationPlayback.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†å¾Œã®éŸ³å£°å†ç”Ÿã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¾ã™ã€‚
- **`replayCachedIntonationAudio()` (src/intonationPlayback.ts)**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³éŸ³å£°ã‚’å†ç”Ÿã—ã¾ã™ã€‚
- **`playUpdatedIntonation()` (src/intonationPlayback.ts)**: æ›´æ–°ã•ã‚ŒãŸã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã§éŸ³å£°ã‚’å†ç”Ÿã—ã¾ã™ã€‚
- **`fetchAndRenderIntonation()` (src/intonationPlayback.ts)**: VOICEVOXã‹ã‚‰ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€UIã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚
- **`resetIntonationToInitial()` (src/intonationPlayback.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºã‚’åˆæœŸçŠ¶æ…‹ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
- **`updateIntonationTiming()` (src/intonationState.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`isValidAudioQueryShape()` (src/intonationUtils.ts)**: AudioQueryã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚
- **`cloneAudioQuery()` (src/intonationUtils.ts)**: AudioQueryã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¾ã™ã€‚
- **`applyStyleSelection()` (src/main.ts)**: é¸æŠã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ç”¨ã—ã¾ã™ã€‚
- **`applyRandomStyleSelection()` (src/main.ts)**: ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã—ã¾ã™ã€‚
- **`saveDelimiter()` (src/main.ts)**: åŒºåˆ‡ã‚Šæ–‡å­—è¨­å®šã‚’ä¿å­˜ã—ã¾ã™ã€‚
- **`scheduleSaveDelimiter()` (src/main.ts)**: åŒºåˆ‡ã‚Šæ–‡å­—è¨­å®šã®ä¿å­˜ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¾ã™ã€‚
- **`updateSpectrogramScaleLabel()` (src/main.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒ«è¡¨ç¤ºã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`updateIntonationKeyboardToggle()` (src/main.ts)**: ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒˆã‚°ãƒ«çŠ¶æ…‹ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`setLoopCheckboxElement()` (src/playback.ts)**: ãƒ«ãƒ¼ãƒ—å†ç”Ÿãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹è¦ç´ ã‚’è¨­å®šã—ã¾ã™ã€‚
- **`setPlayButtonAppearance()` (src/playback.ts)**: å†ç”Ÿãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`isPlayRequestPending()` (src/playback.ts)**: å†ç”Ÿãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä¿ç•™ä¸­ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
- **`stopPlaybackAndResetLoop()` (src/playback.ts)**: å†ç”Ÿã‚’åœæ­¢ã—ã€ãƒ«ãƒ¼ãƒ—çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
- **`getAudioCacheKey()` (src/playback.ts)**: éŸ³å£°ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãŸã‚ã®ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
- **`setTextAndPlay()` (src/playback.ts)**: æŒ‡å®šã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã§éŸ³å£°ã‚’åˆæˆã—ã€å†ç”Ÿã‚’é–‹å§‹ã—ã¾ã™ã€‚
- **`downloadLastAudio()` (src/playback.ts)**: æœ€å¾Œã«å†ç”Ÿã•ã‚ŒãŸéŸ³å£°ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
- **`scheduleAutoPlay()` (src/playback.ts)**: è‡ªå‹•å†ç”Ÿã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¾ã™ã€‚
- **`confirmResetIntonationBeforePlay()` (src/playback.ts)**: å†ç”Ÿå‰ã«ã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒªã‚»ãƒƒãƒˆãŒå¿…è¦ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚
- **`handlePlayButtonClick()` (src/playback.ts)**: å†ç”Ÿãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`handlePlay()` (src/playback.ts)**: éŸ³å£°å†ç”Ÿã‚’é–‹å§‹ã™ã‚‹ãŸã‚ã®ä¸»è¦ãªå‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`clearRealtimeWaveformCanvas()` (src/playback.ts)**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢è¡¨ç¤ºã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚
- **`triggerPlay()` (src/playback.ts)**: éŸ³å£°å†ç”Ÿã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ã€‚
- **`cleanup()` (src/playback.ts)**: å†ç”Ÿå¾Œã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`handleReset()` (src/playback.ts)**: ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`handleCancel()` (src/playback.ts)**: ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚
- **`showStatus()` (src/status.ts)**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
- **`hideStatus()` (src/status.ts)**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã—ã¾ã™ã€‚
- **`scheduleHideStatus()` (src/status.ts)**: æŒ‡å®šæ™‚é–“å¾Œã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã‚ˆã†ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¾ã™ã€‚
- **`invalidateColorVariableCache()` (src/status.ts)**: è‰²å¤‰æ•°ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™ã€‚
- **`getColorVariable()` (src/status.ts)**: CSSã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‹ã‚‰è‰²å¤‰æ•°ã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`getSelectedStyleId()` (src/styleManager.ts)**: ç¾åœ¨é¸æŠã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«IDã‚’å–å¾—ã—ã¾ã™ã€‚
- **`setSelectedStyleId()` (src/styleManager.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«IDã‚’è¨­å®šã—ã¾ã™ã€‚
- **`selectRandomStyleId()` (src/styleManager.ts)**: ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¹ã‚¿ã‚¤ãƒ«IDã‚’é¸æŠã—ã¾ã™ã€‚
- **`getStyleLabel()` (src/styleManager.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«IDã«å¯¾å¿œã™ã‚‹ãƒ©ãƒ™ãƒ«ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`getStyleById()` (src/styleManager.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«IDã«åŸºã¥ã„ã¦ã‚¹ã‚¿ã‚¤ãƒ«æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`getSpeakerStylesByStyleId()` (src/styleManager.ts)**: æŒ‡å®šã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«IDã«å±ã™ã‚‹è©±è€…ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`resolveStyleMarker()` (src/styleManager.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«ãƒãƒ¼ã‚«ãƒ¼ã‚’è§£æ±ºã—ã¾ã™ã€‚
- **`parseDelimiterConfig()` (src/styleManager.ts)**: åŒºåˆ‡ã‚Šæ–‡å­—è¨­å®šã‚’è§£æã—ã¾ã™ã€‚
- **`addSegment()` (src/styleManager.ts)**: ãƒ†ã‚­ã‚¹ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
- **`buildTextSegments()` (src/styleManager.ts)**: ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‹ã‚‰éŸ³å£°åˆæˆç”¨ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
- **`populateStyleSelect()` (src/styleManager.ts)**: ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’VOICEVOXã®ã‚¹ã‚¿ã‚¤ãƒ«ã§åŸ‹ã‚ã¾ã™ã€‚
- **`populateSpeakerStyleSelect()` (src/styleManager.ts)**: è©±è€…ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’åŸ‹ã‚ã¾ã™ã€‚
- **`fetchVoiceStyles()` (src/styleManager.ts)**: VOICEVOXã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰åˆ©ç”¨å¯èƒ½ãªéŸ³å£°ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆè©±è€…ã€ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚
- **`loadStoredList()` (src/textLists.ts)**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ä¿å­˜ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
- **`persistList()` (src/textLists.ts)**: æŒ‡å®šã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ã¾ã™ã€‚
- **`persistLists()` (src/textLists.ts)**: å…¨ã¦ã®ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆï¼ˆå±¥æ­´ã€ãŠæ°—ã«å…¥ã‚Šãªã©ï¼‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ã¾ã™ã€‚
- **`dedupeAndLimit()` (src/textLists.ts)**: ãƒªã‚¹ãƒˆå†…ã®é‡è¤‡ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤ã—ã€æŒ‡å®šã•ã‚ŒãŸåˆ¶é™æ•°ã«èª¿æ•´ã—ã¾ã™ã€‚
- **`renderList()` (src/textLists.ts)**: æŒ‡å®šã•ã‚ŒãŸãƒªã‚¹ãƒˆã‚’UIã«æç”»ã—ã¾ã™ã€‚
- **`renderTextLists()` (src/textLists.ts)**: å±¥æ­´ã¨ãŠæ°—ã«å…¥ã‚Šä¸¡æ–¹ã®ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆã‚’UIã«æç”»ã—ã¾ã™ã€‚
- **`moveToFavorites()` (src/textLists.ts)**: ãƒ†ã‚­ã‚¹ãƒˆã‚’å±¥æ­´ã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆã«ç§»å‹•ã—ã¾ã™ã€‚
- **`moveToHistory()` (src/textLists.ts)**: ãƒ†ã‚­ã‚¹ãƒˆã‚’ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å±¥æ­´ãƒªã‚¹ãƒˆã«ç§»å‹•ã—ã¾ã™ã€‚
- **`addToHistory()` (src/textLists.ts)**: æŒ‡å®šã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’å±¥æ­´ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚
- **`initializeTextLists()` (src/textLists.ts)**: ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚¹ãƒˆæ©Ÿèƒ½ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
- **`updateExportButtonState()` (src/uiControls.ts)**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹çŠ¶æ…‹ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`prepareCanvas()` (src/visualization/canvas.ts)**: æŒ‡å®šã•ã‚ŒãŸCanvasè¦ç´ ã‚’åˆæœŸåŒ–ã—ã€æç”»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚
- **`getHannWindow()` (src/visualization/fft.ts)**: ãƒãƒ‹ãƒ³ã‚°çª“é–¢æ•°ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
- **`fftRadix2()` (src/visualization/fft.ts)**: ãƒ©ãƒ‡ã‚£ãƒƒã‚¯ã‚¹2ã®é«˜é€Ÿãƒ•ãƒ¼ãƒªã‚¨å¤‰æ› (FFT) ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`getMaxFreqByThreshold()` (src/visualization/fftMaxFreq.ts)**: æŒ‡å®šã•ã‚ŒãŸã—ãã„å€¤ã«åŸºã¥ã„ã¦FFTçµæœã‹ã‚‰æœ€å¤§å‘¨æ³¢æ•°ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`drawRealtimeFFT()` (src/visualization/fftOverlay.ts)**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®FFTã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
- **`lerpColor()` (src/visualization/spectrogram.ts)**: 2ã¤ã®è‰²é–“ã§ç·šå½¢è£œé–“ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`mapIntensityToSpectrogramColor()` (src/visualization/spectrogram.ts)**: éŸ³å£°å¼·åº¦ã‚’ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®è‰²ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã™ã€‚
- **`determineSpectrogramCeiling()` (src/visualization/spectrogram.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®è¡¨ç¤ºä¸Šé™å‘¨æ³¢æ•°ã‚’æ±ºå®šã—ã¾ã™ã€‚
- **`estimateFundamentalFrequency()` (src/visualization/spectrogram.ts)**: éŸ³å£°ã‹ã‚‰åŸºæœ¬å‘¨æ³¢æ•°ï¼ˆãƒ”ãƒƒãƒï¼‰ã‚’æ¨å®šã—ã¾ã™ã€‚
- **`analyzeSpectrogramFrames()` (src/visualization/spectrogram.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã«éŸ³å£°ã‚’åˆ†æã—ã¾ã™ã€‚
- **`drawSpectrogram()` (src/visualization/spectrogram.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
- **`drawOfflineSpectrogram()` (src/visualization/spectrogram.ts)**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ï¼ˆäº‹å‰ã«è¨ˆç®—æ¸ˆã¿ï¼‰ã®ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã‚’æç”»ã—ã¾ã™ã€‚
- **`computeAudioContentHash()` (src/visualization/spectrogram.ts)**: éŸ³å£°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒãƒƒã‚·ãƒ¥ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`buildSpectrogramSignature()` (src/visualization/spectrogram.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ã‚·ã‚°ãƒãƒãƒ£ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
- **`processChunk()` (src/visualization/spectrogram.ts)**: éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã«å‡¦ç†ã—ã¾ã™ã€‚
- **`formatTimeLabel()` (src/visualization/timeAxis.ts)**: æ™‚é–“ãƒ©ãƒ™ãƒ«ã‚’æ•´å½¢ã—ã¾ã™ã€‚
- **`buildTimeTicks()` (src/visualization/timeAxis.ts)**: æ™‚é–“è»¸ã®ç›®ç››ã‚Šã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
- **`drawTimeTicks()` (src/visualization/timeAxis.ts)**: æ™‚é–“è»¸ã®ç›®ç››ã‚Šã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
- **`computeSegmentStats()` (src/visualization/waveform.ts)**: éŸ³å£°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®çµ±è¨ˆæƒ…å ±ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`computeSegmentCorrelation()` (src/visualization/waveform.ts)**: éŸ³å£°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆé–“ã®ç›¸é–¢ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
- **`extractAlignedRealtimeSegment()` (src/visualization/waveform.ts)**: ä½ç½®åˆã‚ã›ã•ã‚ŒãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡ºã—ã¾ã™ã€‚
- **`drawRenderedWaveform()` (src/visualization/waveform.ts)**: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸéŸ³å£°æ³¢å½¢ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
- **`drawRealtimeWaveformBackground()` (src/visualization/waveform.ts)**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢ã®èƒŒæ™¯ã‚’æç”»ã—ã¾ã™ã€‚
- **`drawRealtimeWaveformOnly()` (src/visualization/waveform.ts)**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ³¢å½¢ã®ã¿ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
- **`getSpectrogramScale()` (src/visualization.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ç¾åœ¨ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚’å–å¾—ã—ã¾ã™ã€‚
- **`setSpectrogramScale()` (src/visualization.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚
- **`requestSpectrogramReset()` (src/visualization.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®ãƒªã‚»ãƒƒãƒˆã‚’è¦æ±‚ã—ã¾ã™ã€‚
- **`isPlaybackActive()` (src/visualization.ts)**: éŸ³å£°å†ç”ŸãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
- **`stopActivePlayback()` (src/visualization.ts)**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªéŸ³å£°å†ç”Ÿã‚’åœæ­¢ã—ã¾ã™ã€‚
- **`initializeVisualizationCanvases()` (src/visualization.ts)**: è¦–è¦šåŒ–ç”¨ã®å…¨ã¦ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
- **`playAudio()` (src/visualization.ts)**: éŸ³å£°å†ç”Ÿã‚’é–‹å§‹ã—ã¾ã™ã€‚
- **`setProgressPosition()` (src/visualization.ts)**: å†ç”Ÿé€²è¡Œãƒãƒ¼ã®ä½ç½®ã‚’è¨­å®šã—ã¾ã™ã€‚
- **`updateProgressLines()` (src/visualization.ts)**: å†ç”Ÿé€²è¡Œã‚’ç¤ºã™ãƒ©ã‚¤ãƒ³ã‚’æ›´æ–°ã—ã¾ã™ã€‚
- **`clearProgressLines()` (src/visualization.ts)**: å†ç”Ÿé€²è¡Œãƒ©ã‚¤ãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚
- **`requestSpectrogramDraw()` (src/visualization.ts)**: ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã®æç”»ã‚’è¦æ±‚ã—ã¾ã™ã€‚
- **`render()` (src/visualization.ts)**: è¦–è¦šåŒ–è¦ç´ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚
- **`cleanup()` (src/visualization.ts)**: è¦–è¦šåŒ–é–¢é€£ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`finalize()` (src/visualization.ts)**: è¦–è¦šåŒ–ã®æœ€çµ‚å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- **`stopPlayback()` (src/visualization.ts)**: è¦–è¦šåŒ–ã‚’ä¼´ã†å†ç”Ÿã‚’åœæ­¢ã—ã¾ã™ã€‚

## é–¢æ•°å‘¼ã³å‡ºã—éšå±¤ãƒ„ãƒªãƒ¼
```
- if (src/audio.ts)
  - getAudioQuery (src/audio.ts)
    - synthesize ()
      - combineAudioBuffers ()
      - encodeAudioBufferToWav ()
      - writeString ()
      - clamp ()
  - dedupeIntonationFavorites (src/intonation.ts)
    - loadIntonationFavorites ()
      - persistIntonationFavorites ()
      - disableLoopOnIntonationEdit ()
      - resetIntonationState ()
      - setStyleChangeHandler ()
      - initializeIntonationElements ()
      - isIntonationDirty ()
      - setIntonationKeyboardEnabled ()
      - getIntonationKeyboardEnabled ()
      - applyPitchToQuery ()
      - applyPitchEdit ()
      - handleIntonationPointerDown ()
      - handleIntonationPointerMove ()
      - handleIntonationPointerUp ()
      - handleIntonationKeyDown ()
      - renderIntonationFavoritesList ()
      - removeIntonationFavorite ()
      - applyIntonationFavorite ()
      - saveCurrentIntonationFavorite ()
      - refreshIntonationChart ()
      - getBaseDisplayRange ()
      - applyRangeExtra ()
      - refreshDisplayRange ()
      - clampPitchToDisplayRange ()
      - calculateLetterKeyAdjustment ()
      - ensureWheelHandler ()
      - updateInitialRangeFromPoints ()
      - buildIntonationPointsFromQuery ()
      - drawIntonationChart ()
      - pitchFromY ()
      - findNearestIntonationPoint ()
      - scheduleIntonationPlayback ()
      - replayCachedIntonationAudio ()
      - playUpdatedIntonation ()
      - updateIntonationTiming ()
      - isValidAudioQueryShape ()
      - cloneAudioQuery ()
      - showStatus ()
      - scheduleHideStatus ()
  - getPitchRange (src/intonationDisplay.ts)
    - calculateBasePadding ()
      - calculateDisplayRange ()
      - clampRangeExtra ()
      - calculateStepSize ()
      - handleIntonationWheel ()
      - initializeIntonationCanvas ()
      - renderIntonationLabels ()
      - adjustIntonationScale ()
      - getColorVariable ()
  - fetchAndRenderIntonation ()
    - resetIntonationToInitial ()
      - updateExportButtonState ()
      - drawRenderedWaveform ()
      - initializeVisualizationCanvases ()
      - playAudio ()
  - applyStyleSelection (src/main.ts)
    - applyRandomStyleSelection ()
      - updateSpectrogramScaleLabel ()
      - updateIntonationKeyboardToggle ()
      - setLoopCheckboxElement ()
      - setPlayButtonAppearance ()
      - isPlayRequestPending ()
      - scheduleAutoPlay ()
      - handlePlay ()
      - getSelectedStyleId ()
      - setSelectedStyleId ()
      - selectRandomStyleId ()
      - populateStyleSelect ()
      - populateSpeakerStyleSelect ()
      - fetchVoiceStyles ()
      - initializeTextLists ()
      - getSpectrogramScale ()
      - setSpectrogramScale ()
      - requestSpectrogramReset ()
      - isPlaybackActive ()
  - stopPlaybackAndResetLoop ()
    - getAudioCacheKey ()
      - setTextAndPlay ()
      - downloadLastAudio ()
      - confirmResetIntonationBeforePlay ()
      - handlePlayButtonClick ()
      - clearRealtimeWaveformCanvas ()
      - cleanup ()
      - handleCancel ()
      - parseDelimiterConfig ()
      - buildTextSegments ()
      - addToHistory ()
      - stopActivePlayback ()
  - hideStatus ()
    - invalidateColorVariableCache ()
  - getStyleLabel ()
    - getStyleById ()
      - getSpeakerStylesByStyleId ()
      - resolveStyleMarker ()
      - addSegment ()
  - loadStoredList (src/textLists.ts)
    - persistList ()
      - persistLists ()
      - dedupeAndLimit ()
      - renderList ()
      - renderTextLists ()
      - moveToFavorites ()
      - moveToHistory ()
  - prepareCanvas (src/visualization/canvas.ts)
  - getHannWindow (src/visualization/fft.ts)
    - fftRadix2 ()
      - getMaxFreqByThreshold (src/visualization/fftMaxFreq.ts)
  - drawRealtimeFFT (src/visualization/fftOverlay.ts)
  - lerpColor (src/visualization/spectrogram.ts)
    - mapIntensityToSpectrogramColor ()
      - determineSpectrogramCeiling ()
      - estimateFundamentalFrequency ()
      - analyzeSpectrogramFrames ()
      - drawSpectrogram ()
      - drawOfflineSpectrogram ()
      - computeAudioContentHash ()
      - buildSpectrogramSignature ()
      - processChunk ()
      - drawTimeTicks ()
  - formatTimeLabel (src/visualization/timeAxis.ts)
    - buildTimeTicks ()
  - computeSegmentStats (src/visualization/waveform.ts)
    - computeSegmentCorrelation ()
      - extractAlignedRealtimeSegment ()
      - drawRealtimeWaveformBackground ()
      - drawRealtimeWaveformOnly ()
  - catch (src/audio.ts)
  - setProgressPosition ()
    - updateProgressLines ()
      - clearProgressLines ()
      - requestSpectrogramDraw ()
      - render ()
      - finalize ()
- for (src/audio.ts)
- saveDelimiter (src/main.ts)
- scheduleSaveDelimiter (src/main.ts)
- triggerPlay (src/playback.ts)
- handleReset (src/playback.ts)
- while (src/styleManager.ts)
- stopPlayback (src/visualization.ts)
```

---
Generated at: 2026-02-16 07:02:25 JST
