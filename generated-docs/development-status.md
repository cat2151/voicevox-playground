Last updated: 2026-02-16

# Development Status

## 現在のIssues
- [Issue #108](../issue-notes/108.md)ではリアルタイムFFTの周波数推定精度の向上を目指し、100Hz以上の上位1%の最低周波数を採用する予定です。
- [Issue #107](../issue-notes/107.md)は、イントネーションのキーボード操作による再生時もステータス表示とリアルタイム波形クリアを行い、ユーザー体験を改善するものです。
- [Issue #99](../issue-notes/99.md)と[Issue #97](../issue-notes/97.md)では、イントネーションモーラガイドの表示位置調整とスペクトログラムのHz表示桁数拡張により視認性を高めます。

## 次の一手候補
1. [Issue #108](../issue-notes/108.md): リアルタイムFFT欄の周波数推定改善（100Hz以上の上位1%の最低周波数採用）
   - 最初の小さな一歩: `src/visualization/fftMaxFreq.ts` で現在実装されている周波数推定ロジックを確認し、100Hz以上のデータに絞り込み、その中から上位1%の最低周波数を特定する処理を追加するための調査を行う。
   - Agent実行プロンプ:
     ```
     対象ファイル: src/visualization/fftMaxFreq.ts

     実行内容: `src/visualization/fftMaxFreq.ts` に実装されている周波数推定ロジックを分析し、100Hz以上の周波数データのみを抽出し、その中で最も低い周波数（上位1%の最低周波数）を特定する新しいアルゴリズムの実装方針をmarkdown形式で提案してください。特に、既存のデータ構造とFFT結果の処理方法に注目してください。

     確認事項: 現在のFFTデータがどのような形式で渡されているか、および周波数範囲がどのように表現されているかを確認してください。既存の推定ロジックとの互換性も考慮してください。

     期待する出力: 新しい推定ロジックの擬似コードまたは詳細なアルゴリズム説明をmarkdown形式で出力してください。
     ```

2. [Issue #107](../issue-notes/107.md): イントネーションのキーボード操作時の再生状況表示と波形クリアの統一
   - 最初の小さな一歩: `src/playback.ts` と `src/uiControls.ts` にて、キーボード操作による再生がトリガーされた際のイベントハンドリングと、再生状態を管理するロジックを確認する。特に、通常の再生時とキーボード操作時でステータス表示とリアルタイム波形クリアの処理パスが異なる原因を特定する。
   - Agent実行プロンプト:
     ```
     対象ファイル: src/playback.ts, src/uiControls.ts, src/status.ts, src/visualization/waveform.ts

     実行内容: キーボード操作（Space/Enter）による音声再生時に、`src/status.ts` を介してステータス表示を更新し、再生完了時に `src/visualization/waveform.ts` を用いてリアルタイム波形欄のみをクリアする機能を追加するための変更点を分析し、具体的な実装計画をmarkdown形式で提案してください。

     確認事項: キーボード操作による再生がどの関数でトリガーされているか、また、通常の再生時にステータス更新と波形クリアがどのように行われているかを確認してください。イベントリスナーと状態管理の仕組みも考慮してください。

     期待する出力: 変更が必要なファイルと関数のリスト、および各ファイルでの具体的な修正内容（擬似コードまたは説明）をmarkdown形式で出力してください。
     ```

3. [Issue #97](../issue-notes/97.md): スペクトログラム左のHz表示桁数拡張と不要な線の削除
   - 最初の小さな一歩: `src/visualization/spectrogram.ts` と `src/visualization/timeAxis.ts` (Hz 表示に関連するファイル) にて、スペクトログラムのY軸（Hz表示）の描画ロジックと、グリッド線や軸ラベルの描画に関するコードを確認する。
   - Agent実行プロンプト:
     ```
     対象ファイル: src/visualization/spectrogram.ts, src/visualization/timeAxis.ts

     実行内容: スペクトログラムのY軸に表示されるHzの桁数を3桁から5桁に拡張し、同時にHz表示の右側に表示されている不要な白い線を削除するためのコード変更箇所を分析し、具体的な修正案をmarkdown形式で提案してください。特に、キャンバス描画APIの使用方法と軸ラベルのフォーマット方法に注目してください。

     確認事項: 現在のHz表示のレンダリング方法、特に`ctx.fillText`や`ctx.stroke`などの描画コマンドがどこで使用されているかを確認してください。数値のフォーマットに関するロジックも確認してください。

     期待する出力: 変更が必要なファイルと関数のリスト、およびY軸ラベルのフォーマット変更と不要な線の描画削除に関する具体的なコード修正案をmarkdown形式で出力してください。
     ```

---
Generated at: 2026-02-16 07:01:41 JST
