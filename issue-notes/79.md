# issue スペクトログラムが描画崩れしている。おそらくレンダリング設計が誤っている #79
[issues #79](https://github.com/cat2151/voicevox-playground/issues/79)

- userの要求する設計はこうである：
    - wav取得のち、play開始のち、wav全体の分析を開始せよ
    - playと並列でオフラインレンダリングでwavを再生して、それを利用してFFT結果とFFT推定周波数結果を全frameぶん、バッファリングせよ
    - オフラインレンダリング完了により生成されたバッファを分析し、FFTの最大周波数peakを算出し、それをグラフの一番上とし、グラフ上下の縮尺を決定せよ
    - 同様にグラフ左右の縮尺も決定せよ
    - 同様にFFT推定周波数結果についてもそのようにせよ
- おそらく現状は誤って、1frameごとに「リアルタイムにFFT結果と推定周波数結果を処理して描画」となって描画崩れしている
- このuser要求（最初からスペクトログラムと推定周波数結果の全体像がほしい）において、1frameごとに描画するのは設計誤りなのでやめて、user要求の設計にあわせて修正すること
